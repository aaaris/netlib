"use strict";(self["webpackChunknet_lib"]=self["webpackChunknet_lib"]||[]).push([[153],{56153:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("我的收藏")]),a("el-table",{staticClass:"tableClass",attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"class_name",align:"center",label:"类型",width:"200px"}}),a("el-table-column",{attrs:{prop:"book_name",align:"center",label:"名称",width:"200px"}}),a("el-table-column",{attrs:{prop:"book_author",align:"center",label:"作者",width:"200px"}}),a("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-star-on",circle:""},on:{click:function(a){return e.deleteBookItem(t.$index,t.row)}}})]}}])})],1),a("el-table",{staticClass:"tableMobileClass",attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"book_name",align:"center",label:"名称",width:"150px"}}),a("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-star-on",circle:""},on:{click:function(a){return e.deleteBookItem(t.$index,t.row)}}})]}}])})],1)],1)},r=[],l=a(39873);a(9653),a(40561),a(83040);const s={name:"Collection",data:function(){return{tableData:[],searchText:""}},created:function(){var e=this;return(0,l.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/collection/"+e.$store.state.userinfo.user_id+"?access_token="+e.$store.getters.getToken);case 2:a=t.sent,n=a.data,e.tableData=n.data;case 5:case"end":return t.stop()}}),t)})))()},methods:{deleteBookItem:function(e,t){var a=this;this.$confirm("是否取消收藏该书籍","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,l.Z)(regeneratorRuntime.mark((function n(){var r,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$http({method:"delete",url:"/collection?access_token="+a.$store.getters.getToken,data:{user_id:Number(a.$store.state.userinfo.user_id),book_id:t.book_id}});case 2:r=n.sent,l=r.data,200===l.code?(a.tableData.splice(e,1),a.$message({type:"success",message:"已不再收藏该书籍!"})):a.$message({type:"error",message:l.data});case 5:case"end":return n.stop()}}),n)}))))}}},o=s;var c=a(1001),i=(0,c.Z)(o,n,r,!1,null,"f2482d38",null);const u=i.exports}}]);
//# sourceMappingURL=153.cc79b40f.js.map