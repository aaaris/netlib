"use strict";(self["webpackChunknet_lib"]=self["webpackChunknet_lib"]||[]).push([[693],{45693:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("我的收藏")]),n("el-table",{staticClass:"tableClass",attrs:{data:e.tableData}},[n("el-table-column",{attrs:{prop:"class_name",align:"center",label:"类型",width:"130px"}}),n("el-table-column",{attrs:{prop:"book_name",align:"center",label:"名称",width:"200px"}}),n("el-table-column",{attrs:{prop:"book_author",align:"center",label:"作者",width:"200px"}}),n("el-table-column",{attrs:{prop:"book_addr",align:"center",label:"出版社",width:"200px"}}),n("el-table-column",{attrs:{prop:"book_info",align:"center",label:"描述性息",width:"230px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{icon:"el-icon-star-on",circle:""},on:{click:function(n){return e.deleteBookItem(t.$index,t.row)}}})]}}])})],1)],1)},r=[],o=n(39873);n(9653),n(40561),n(83040);const l={name:"Collection",data:function(){return{tableData:[]}},created:function(){var e=this,t=function(){var t=(0,o.Z)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/collection/"+window.sessionStorage.getItem("id")+"?access_token="+window.sessionStorage.getItem("token"));case 2:n=t.sent,a=n.data,e.tableData=a.data;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()},methods:{deleteBookItem:function(e,t){var n=this;this.$confirm("是否取消收藏该书籍","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=function(){var a=(0,o.Z)(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$http({method:"delete",url:"/collection?access_token="+window.sessionStorage.getItem("token"),data:{user_id:Number(window.sessionStorage.getItem("id")),book_id:t.book_id}});case 2:r=a.sent,o=r.data,200===o.code?(n.tableData.splice(e,1),n.$message({type:"success",message:"已不再收藏该书籍!"})):n.$message({type:"error",message:o.data});case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}))}}},s=l;var i=n(1001),c=(0,i.Z)(s,a,r,!1,null,"b9017072",null);const u=c.exports}}]);
//# sourceMappingURL=693.48a07b85.js.map