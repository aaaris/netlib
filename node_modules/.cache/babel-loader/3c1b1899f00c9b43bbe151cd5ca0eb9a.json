{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vue from \"vue\";\nimport Router from \"vue-router\";\nimport Login from \"./components/user/Login.vue\";\nimport Regist from \"./components/user/Regist.vue\";\nimport Home from \"./components/Home.vue\";\nimport Index from \"./components/manager/Index.vue\";\nimport axios from \"axios\";\nimport store from \"./store/store\";\nVue.use(Router);\nvar router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes: routes\n});\nvar oRoutes = router.options.routes;\n\nvar buildRouter = function buildRouter() {\n  var data = store.state.menu_data;\n  data.forEach(function (item) {\n    var new_router = {\n      path: item.path,\n      component: function component() {\n        return import(\"./components/\" + item.component + \".vue\");\n      }\n    };\n    oRoutes[0].children.push(new_router);\n  });\n};\n\nrouter.beforeEach(function (to, from, next) {\n  /* 判断路由是否已经加载过 */\n  var isLoadRoute = store.state.isLoadRoute;\n\n  if (!isLoadRoute) {// axios.get(\"/menuList\").then((res) => {\n    //   store.commit(\"setMeunData\", res.data, menu_data);\n    //   // 动态创建路由\n    //   buildRouter();\n    //   // 设置已经加载过的标记\n    //   store.commit(\"setLoadRoute\", true);\n    // });\n  }\n\n  next();\n});\nexport default router;","map":{"version":3,"names":["Vue","Router","Login","Regist","Home","Index","axios","store","use","router","mode","base","process","env","BASE_URL","routes","oRoutes","options","buildRouter","data","state","menu_data","forEach","item","new_router","path","component","children","push","beforeEach","to","from","next","isLoadRoute"],"sources":["D:/Work/Project/LMS/lms/src/router.js"],"sourcesContent":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport Login from \"./components/user/Login.vue\";\nimport Regist from \"./components/user/Regist.vue\";\nimport Home from \"./components/Home.vue\";\nimport Index from \"./components/manager/Index.vue\";\nimport axios from \"axios\";\nimport store from \"./store/store\";\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n});\n\n\n\nlet oRoutes = router.options.routes;\nconst buildRouter = () => {\n  let data = store.state.menu_data;\n  data.forEach((item) => {\n    let new_router = {\n      path: item.path,\n      component: () => import(\"./components/\" + item.component + \".vue\"),\n    };\n    oRoutes[0].children.push(new_router);\n  });\n};\n\nrouter.beforeEach((to, from, next) => {\n  /* 判断路由是否已经加载过 */\n  let isLoadRoute = store.state.isLoadRoute;\n  if (!isLoadRoute) {\n    // axios.get(\"/menuList\").then((res) => {\n    //   store.commit(\"setMeunData\", res.data, menu_data);\n    //   // 动态创建路由\n    //   buildRouter();\n    //   // 设置已经加载过的标记\n    //   store.commit(\"setLoadRoute\", true);\n    // });\n  }\n  next();\n});\n\nexport default router;\n"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEAP,GAAG,CAACQ,GAAJ,CAAQP,MAAR;AAEA,IAAMQ,MAAM,GAAG,IAAIR,MAAJ,CAAW;EACxBS,IAAI,EAAE,SADkB;EAExBC,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFM;EAGxBC,MAAM,EAANA;AAHwB,CAAX,CAAf;AAQA,IAAIC,OAAO,GAAGP,MAAM,CAACQ,OAAP,CAAeF,MAA7B;;AACA,IAAMG,WAAW,GAAG,SAAdA,WAAc,GAAM;EACxB,IAAIC,IAAI,GAAGZ,KAAK,CAACa,KAAN,CAAYC,SAAvB;EACAF,IAAI,CAACG,OAAL,CAAa,UAACC,IAAD,EAAU;IACrB,IAAIC,UAAU,GAAG;MACfC,IAAI,EAAEF,IAAI,CAACE,IADI;MAEfC,SAAS,EAAE;QAAA,OAAM,OAAO,kBAAkBH,IAAI,CAACG,SAAvB,GAAmC,MAA1C,CAAN;MAAA;IAFI,CAAjB;IAIAV,OAAO,CAAC,CAAD,CAAP,CAAWW,QAAX,CAAoBC,IAApB,CAAyBJ,UAAzB;EACD,CAND;AAOD,CATD;;AAWAf,MAAM,CAACoB,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;EACpC;EACA,IAAIC,WAAW,GAAG1B,KAAK,CAACa,KAAN,CAAYa,WAA9B;;EACA,IAAI,CAACA,WAAL,EAAkB,CAChB;IACA;IACA;IACA;IACA;IACA;IACA;EACD;;EACDD,IAAI;AACL,CAbD;AAeA,eAAevB,MAAf"},"metadata":{},"sourceType":"module"}