{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Maël Nison @arcanis\n*/\n\"use strict\";\n/** @typedef {import(\"./Resolver\")} Resolver */\n\n/** @typedef {import(\"./Resolver\").ResolveStepHook} ResolveStepHook */\n\n/**\n * @typedef {Object} PnpApiImpl\n * @property {function(string, string, object): string} resolveToUnqualified\n */\n\nvar _objectSpread = require(\"D:/Work/Project/LMS/lms/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\n\nvar _createForOfIteratorHelper = require(\"D:/Work/Project/LMS/lms/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\")[\"default\"];\n\nvar _classCallCheck = require(\"D:/Work/Project/LMS/lms/node_modules/@babel/runtime/helpers/classCallCheck.js\")[\"default\"];\n\nvar _createClass = require(\"D:/Work/Project/LMS/lms/node_modules/@babel/runtime/helpers/createClass.js\")[\"default\"];\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nmodule.exports = /*#__PURE__*/function () {\n  /**\n   * @param {string | ResolveStepHook} source source\n   * @param {PnpApiImpl} pnpApi pnpApi\n   * @param {string | ResolveStepHook} target target\n   */\n  function PnpPlugin(source, pnpApi, target) {\n    _classCallCheck(this, PnpPlugin);\n\n    this.source = source;\n    this.pnpApi = pnpApi;\n    this.target = target;\n  }\n  /**\n   * @param {Resolver} resolver the resolver\n   * @returns {void}\n   */\n\n\n  _createClass(PnpPlugin, [{\n    key: \"apply\",\n    value: function apply(resolver) {\n      var _this = this;\n\n      var target = resolver.ensureHook(this.target);\n      resolver.getHook(this.source).tapAsync(\"PnpPlugin\", function (request, resolveContext, callback) {\n        var req = request.request;\n        if (!req) return callback(); // The trailing slash indicates to PnP that this value is a folder rather than a file\n\n        var issuer = \"\".concat(request.path, \"/\");\n        var packageMatch = /^(@[^/]+\\/)?[^/]+/.exec(req);\n        if (!packageMatch) return callback();\n        var packageName = packageMatch[0];\n        var innerRequest = \".\".concat(req.slice(packageName.length));\n        var resolution;\n        var apiResolution;\n\n        try {\n          resolution = _this.pnpApi.resolveToUnqualified(packageName, issuer, {\n            considerBuiltins: false\n          });\n\n          if (resolveContext.fileDependencies) {\n            apiResolution = _this.pnpApi.resolveToUnqualified(\"pnpapi\", issuer, {\n              considerBuiltins: false\n            });\n          }\n        } catch (error) {\n          if (error.code === \"MODULE_NOT_FOUND\" && error.pnpCode === \"UNDECLARED_DEPENDENCY\") {\n            // This is not a PnP managed dependency.\n            // Try to continue resolving with our alternatives\n            if (resolveContext.log) {\n              resolveContext.log(\"request is not managed by the pnpapi\");\n\n              var _iterator = _createForOfIteratorHelper(error.message.split(\"\\n\").filter(Boolean)),\n                  _step;\n\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  var line = _step.value;\n                  resolveContext.log(\"  \".concat(line));\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n            }\n\n            return callback();\n          }\n\n          return callback(error);\n        }\n\n        if (resolution === packageName) return callback();\n\n        if (apiResolution && resolveContext.fileDependencies) {\n          resolveContext.fileDependencies.add(apiResolution);\n        }\n\n        var obj = _objectSpread(_objectSpread({}, request), {}, {\n          path: resolution,\n          request: innerRequest,\n          ignoreSymlinks: true,\n          fullySpecified: request.fullySpecified && innerRequest !== \".\"\n        });\n\n        resolver.doResolve(target, obj, \"resolved by pnp to \".concat(resolution), resolveContext, function (err, result) {\n          if (err) return callback(err);\n          if (result) return callback(null, result); // Skip alternatives\n\n          return callback(null, null);\n        });\n      });\n    }\n  }]);\n\n  return PnpPlugin;\n}();","map":{"version":3,"names":["module","exports","source","pnpApi","target","resolver","ensureHook","getHook","tapAsync","request","resolveContext","callback","req","issuer","path","packageMatch","exec","packageName","innerRequest","slice","length","resolution","apiResolution","resolveToUnqualified","considerBuiltins","fileDependencies","error","code","pnpCode","log","message","split","filter","Boolean","line","add","obj","ignoreSymlinks","fullySpecified","doResolve","err","result"],"sources":["D:/Work/Project/LMS/lms/node_modules/enhanced-resolve/lib/PnpPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Maël Nison @arcanis\n*/\n\n\"use strict\";\n\n/** @typedef {import(\"./Resolver\")} Resolver */\n/** @typedef {import(\"./Resolver\").ResolveStepHook} ResolveStepHook */\n/**\n * @typedef {Object} PnpApiImpl\n * @property {function(string, string, object): string} resolveToUnqualified\n */\n\nmodule.exports = class PnpPlugin {\n\t/**\n\t * @param {string | ResolveStepHook} source source\n\t * @param {PnpApiImpl} pnpApi pnpApi\n\t * @param {string | ResolveStepHook} target target\n\t */\n\tconstructor(source, pnpApi, target) {\n\t\tthis.source = source;\n\t\tthis.pnpApi = pnpApi;\n\t\tthis.target = target;\n\t}\n\n\t/**\n\t * @param {Resolver} resolver the resolver\n\t * @returns {void}\n\t */\n\tapply(resolver) {\n\t\tconst target = resolver.ensureHook(this.target);\n\t\tresolver\n\t\t\t.getHook(this.source)\n\t\t\t.tapAsync(\"PnpPlugin\", (request, resolveContext, callback) => {\n\t\t\t\tconst req = request.request;\n\t\t\t\tif (!req) return callback();\n\n\t\t\t\t// The trailing slash indicates to PnP that this value is a folder rather than a file\n\t\t\t\tconst issuer = `${request.path}/`;\n\n\t\t\t\tconst packageMatch = /^(@[^/]+\\/)?[^/]+/.exec(req);\n\t\t\t\tif (!packageMatch) return callback();\n\n\t\t\t\tconst packageName = packageMatch[0];\n\t\t\t\tconst innerRequest = `.${req.slice(packageName.length)}`;\n\n\t\t\t\tlet resolution;\n\t\t\t\tlet apiResolution;\n\t\t\t\ttry {\n\t\t\t\t\tresolution = this.pnpApi.resolveToUnqualified(packageName, issuer, {\n\t\t\t\t\t\tconsiderBuiltins: false\n\t\t\t\t\t});\n\t\t\t\t\tif (resolveContext.fileDependencies) {\n\t\t\t\t\t\tapiResolution = this.pnpApi.resolveToUnqualified(\"pnpapi\", issuer, {\n\t\t\t\t\t\t\tconsiderBuiltins: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (\n\t\t\t\t\t\terror.code === \"MODULE_NOT_FOUND\" &&\n\t\t\t\t\t\terror.pnpCode === \"UNDECLARED_DEPENDENCY\"\n\t\t\t\t\t) {\n\t\t\t\t\t\t// This is not a PnP managed dependency.\n\t\t\t\t\t\t// Try to continue resolving with our alternatives\n\t\t\t\t\t\tif (resolveContext.log) {\n\t\t\t\t\t\t\tresolveContext.log(`request is not managed by the pnpapi`);\n\t\t\t\t\t\t\tfor (const line of error.message.split(\"\\n\").filter(Boolean))\n\t\t\t\t\t\t\t\tresolveContext.log(`  ${line}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn callback();\n\t\t\t\t\t}\n\t\t\t\t\treturn callback(error);\n\t\t\t\t}\n\n\t\t\t\tif (resolution === packageName) return callback();\n\n\t\t\t\tif (apiResolution && resolveContext.fileDependencies) {\n\t\t\t\t\tresolveContext.fileDependencies.add(apiResolution);\n\t\t\t\t}\n\n\t\t\t\tconst obj = {\n\t\t\t\t\t...request,\n\t\t\t\t\tpath: resolution,\n\t\t\t\t\trequest: innerRequest,\n\t\t\t\t\tignoreSymlinks: true,\n\t\t\t\t\tfullySpecified: request.fullySpecified && innerRequest !== \".\"\n\t\t\t\t};\n\t\t\t\tresolver.doResolve(\n\t\t\t\t\ttarget,\n\t\t\t\t\tobj,\n\t\t\t\t\t`resolved by pnp to ${resolution}`,\n\t\t\t\t\tresolveContext,\n\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\tif (result) return callback(null, result);\n\t\t\t\t\t\t// Skip alternatives\n\t\t\t\t\t\treturn callback(null, null);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t}\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}