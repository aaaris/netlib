{"ast":null,"code":"import \"D:\\\\Work\\\\Project\\\\LMS\\\\lms\\\\node_modules\\\\core-js\\\\modules\\\\es.array.iterator.js\";\nimport \"D:\\\\Work\\\\Project\\\\LMS\\\\lms\\\\node_modules\\\\core-js\\\\modules\\\\es.promise.js\";\nimport \"D:\\\\Work\\\\Project\\\\LMS\\\\lms\\\\node_modules\\\\core-js\\\\modules\\\\es.object.assign.js\";\nimport \"D:\\\\Work\\\\Project\\\\LMS\\\\lms\\\\node_modules\\\\core-js\\\\modules\\\\es.promise.finally.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport \"./plugins/element.js\";\nimport \"./plugins/global.css\";\nimport store from \"./store/store.js\";\nimport axios from \"axios\";\nVue.prototype.$http = axios; // 配置请求的根目录\n// 本地mock测试环境\n// Vue.prototype.$http.defaults.baseURL = 'http://127.0.0.1:4523/m1/1426632-0-default'\n// 本地测试环境\n// Vue.prototype.$http.defaults.baseURL = \"http://localhost:8081/api/v1\";\n// 服务器\n\nVue.prototype.$http.defaults.baseURL = \"http://122.9.215.185:8081/api/v1\"; // axios.interceptors.request.use(\n//   (config) => {\n//     if (store.state.token) {\n//       config.headers.common[\"access_token\"] = store.state.token;\n//     }\n//     return config;\n//   },\n//   (error) => {\n//     // 对请求错误做什么\n//     return Promise.reject(error);\n//   }\n// );\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response) {\n    switch (error.response.state) {\n      case 401:\n        localStorage.removeItem(\"token\");\n        router.replace({\n          path: \"/login\",\n          query: {\n            redirect: router.currentRoute.fullPath\n          }\n        });\n    }\n  }\n});\nVue.config.productionTip = false;\nnew Vue({\n  router: router,\n  store: store,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount(\"#app\");","map":{"version":3,"names":["Vue","App","router","store","axios","prototype","$http","defaults","baseURL","interceptors","response","use","error","state","localStorage","removeItem","replace","path","query","redirect","currentRoute","fullPath","config","productionTip","render","h","$mount"],"sources":["D:/Work/Project/LMS/lms/src/main.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\nimport \"./plugins/element.js\";\r\nimport \"./plugins/global.css\";\r\nimport store from \"./store/store.js\";\r\n\r\nimport axios from \"axios\";\r\nVue.prototype.$http = axios;\r\n// 配置请求的根目录\r\n// 本地mock测试环境\r\n// Vue.prototype.$http.defaults.baseURL = 'http://127.0.0.1:4523/m1/1426632-0-default'\r\n// 本地测试环境\r\n// Vue.prototype.$http.defaults.baseURL = \"http://localhost:8081/api/v1\";\r\n// 服务器\r\nVue.prototype.$http.defaults.baseURL = \"http://122.9.215.185:8081/api/v1\";\r\n\r\n// axios.interceptors.request.use(\r\n//   (config) => {\r\n//     if (store.state.token) {\r\n//       config.headers.common[\"access_token\"] = store.state.token;\r\n//     }\r\n//     return config;\r\n//   },\r\n//   (error) => {\r\n//     // 对请求错误做什么\r\n//     return Promise.reject(error);\r\n//   }\r\n// );\r\n\r\naxios.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (error.response) {\r\n      switch (error.response.state) {\r\n        case 401:\r\n          localStorage.removeItem(\"token\");\r\n          router.replace({\r\n            path: \"/login\",\r\n            query: { redirect: router.currentRoute.fullPath },\r\n          });\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: (h) => h(App),\r\n}).$mount(\"#app\");\r\n"],"mappings":";;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,sBAAP;AACA,OAAO,sBAAP;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACAJ,GAAG,CAACK,SAAJ,CAAcC,KAAd,GAAsBF,KAAtB,C,CACA;AACA;AACA;AACA;AACA;AACA;;AACAJ,GAAG,CAACK,SAAJ,CAAcC,KAAd,CAAoBC,QAApB,CAA6BC,OAA7B,GAAuC,kCAAvC,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAJ,KAAK,CAACK,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACE,UAACD,QAAD,EAAc;EACZ,OAAOA,QAAP;AACD,CAHH,EAIE,UAACE,KAAD,EAAW;EACT,IAAIA,KAAK,CAACF,QAAV,EAAoB;IAClB,QAAQE,KAAK,CAACF,QAAN,CAAeG,KAAvB;MACE,KAAK,GAAL;QACEC,YAAY,CAACC,UAAb,CAAwB,OAAxB;QACAb,MAAM,CAACc,OAAP,CAAe;UACbC,IAAI,EAAE,QADO;UAEbC,KAAK,EAAE;YAAEC,QAAQ,EAAEjB,MAAM,CAACkB,YAAP,CAAoBC;UAAhC;QAFM,CAAf;IAHJ;EAQD;AACF,CAfH;AAkBArB,GAAG,CAACsB,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEA,IAAIvB,GAAJ,CAAQ;EACNE,MAAM,EAANA,MADM;EAENC,KAAK,EAALA,KAFM;EAGNqB,MAAM,EAAE,gBAACC,CAAD;IAAA,OAAOA,CAAC,CAACxB,GAAD,CAAR;EAAA;AAHF,CAAR,EAIGyB,MAJH,CAIU,MAJV"},"metadata":{},"sourceType":"module"}