{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport Vue from \"vue\";\nimport Router from \"vue-router\";\nimport Login from \"./components/user/Login.vue\";\nimport Regist from \"./components/user/Regist.vue\";\nimport Home from \"./components/Home.vue\";\nimport Index from \"./components/manager/Index.vue\";\nimport axios from \"axios\";\nimport store from \"./store/store\";\nVue.use(Router);\nvar routes = [{\n  path: \"/\",\n  redirect: \"/home\"\n}, {\n  path: \"/login\",\n  component: Login\n}, {\n  path: \"/regist\",\n  component: Regist\n}, {\n  path: \"/home\",\n  component: Home\n}, {\n  path: \"/index\",\n  name: \"index\",\n  redirect: \"/index/profile\",\n  component: Index,\n  // 路由嵌套\n  children: [{\n    path: \"/index/profile\",\n    component: function component() {\n      return import(\"./components/manager/Profile.vue\");\n    }\n  }, {\n    path: \"/index/collection\",\n    component: function component() {\n      return import(\"./components/manager/Collection.vue\");\n    }\n  }, {\n    path: \"/index/share\",\n    component: function component() {\n      return import(\"./components/manager/Share.vue\");\n    }\n  }]\n}];\nvar router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes: routes\n});\nvar oRoutes = router.options.routes;\n\nvar buildRouter = function buildRouter() {\n  var data = store.state.menu_data;\n  data.forEach(function (item) {\n    var new_router = {\n      path: item.path,\n      component: function component() {\n        return import(\"./components/\" + item.component + \".vue\");\n      }\n    };\n    oRoutes[0].children.push(new_router);\n  });\n};\n\nrouter.beforeEach(function (to, from, next) {\n  /* 判断路由是否已经加载过 */\n  if (to != \"/index\") {\n    next();\n  }\n\n  var isLoadRoute = store.state.isLoadRoute;\n\n  if (!isLoadRoute) {\n    // axios.get(\"/menuList\").then((res) => {\n    //   store.commit(\"setMeunData\", res.data, menu_data);\n    //   // 动态创建路由\n    //   buildRouter();\n    //   // 设置已经加载过的标记\n    //   store.commit(\"setLoadRoute\", true);\n    // });\n    var menu_data = [{\n      name: \"USER\",\n      icon: \"el-icon-user\",\n      child: [{\n        name: \"个人信息\",\n        icon: \"el-icon-document\",\n        path: \"/index/profile\"\n      }, {\n        name: \"我的收藏\",\n        icon: \"el-icon-collection\",\n        path: \"/index/collection\"\n      }, {\n        name: \"我的分享\",\n        icon: \"el-icon-share\",\n        path: \"/index/share\"\n      }]\n    }, {\n      name: \"MORE\",\n      icon: \"el-icon-more\",\n      child: [{\n        name: \"联系我们\",\n        icon: \"el-icon-chat-dot-square\",\n        path: \"index/contact\"\n      }, {\n        name: \"小程序服务\",\n        icon: \"el-icon-mobile\",\n        path: \"index/more\"\n      }]\n    }];\n    var userState = store.state.userState;\n\n    if (userState == 1) {\n      menu_data;\n    }\n  }\n\n  next();\n});\nexport default router;","map":{"version":3,"names":["Vue","Router","Login","Regist","Home","Index","axios","store","use","routes","path","redirect","component","name","children","router","mode","base","process","env","BASE_URL","oRoutes","options","buildRouter","data","state","menu_data","forEach","item","new_router","push","beforeEach","to","from","next","isLoadRoute","icon","child","userState"],"sources":["D:/Work/Project/LMS/lms/src/router.js"],"sourcesContent":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport Login from \"./components/user/Login.vue\";\nimport Regist from \"./components/user/Regist.vue\";\nimport Home from \"./components/Home.vue\";\nimport Index from \"./components/manager/Index.vue\";\nimport axios from \"axios\";\nimport store from \"./store/store\";\n\nVue.use(Router);\n\nconst routes = [\n  {\n    path: \"/\",\n    redirect: \"/home\",\n  },\n  {\n    path: \"/login\",\n    component: Login,\n  },\n  {\n    path: \"/regist\",\n    component: Regist,\n  },\n  {\n    path: \"/home\",\n    component: Home,\n  },\n  {\n    path: \"/index\",\n    name: \"index\",\n    redirect: \"/index/profile\",\n    component: Index,\n    // 路由嵌套\n    children: [\n      {\n        path: \"/index/profile\",\n        component: () => import(\"./components/manager/Profile.vue\"),\n      },\n      {\n        path: \"/index/collection\",\n        component: () => import(\"./components/manager/Collection.vue\"),\n      },\n      {\n        path: \"/index/share\",\n        component: () => import(\"./components/manager/Share.vue\"),\n      },\n    ],\n  },\n];\n\nconst router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n});\n\nlet oRoutes = router.options.routes;\nconst buildRouter = () => {\n  let data = store.state.menu_data;\n  data.forEach((item) => {\n    let new_router = {\n      path: item.path,\n      component: () => import(\"./components/\" + item.component + \".vue\"),\n    };\n    oRoutes[0].children.push(new_router);\n  });\n};\n\nrouter.beforeEach((to, from, next) => {\n  /* 判断路由是否已经加载过 */\n  if (to != \"/index\") {\n    next();\n  }\n  let isLoadRoute = store.state.isLoadRoute;\n  if (!isLoadRoute) {\n    // axios.get(\"/menuList\").then((res) => {\n    //   store.commit(\"setMeunData\", res.data, menu_data);\n    //   // 动态创建路由\n    //   buildRouter();\n    //   // 设置已经加载过的标记\n    //   store.commit(\"setLoadRoute\", true);\n    // });\n    const menu_data = [\n      {\n        name: \"USER\",\n        icon: \"el-icon-user\",\n        child: [\n          {\n            name: \"个人信息\",\n            icon: \"el-icon-document\",\n            path: \"/index/profile\",\n          },\n          {\n            name: \"我的收藏\",\n            icon: \"el-icon-collection\",\n            path: \"/index/collection\",\n          },\n          {\n            name: \"我的分享\",\n            icon: \"el-icon-share\",\n            path: \"/index/share\",\n          },\n        ],\n      },\n\n      {\n        name: \"MORE\",\n        icon: \"el-icon-more\",\n        child: [\n          {\n            name: \"联系我们\",\n            icon: \"el-icon-chat-dot-square\",\n            path: \"index/contact\",\n          },\n          {\n            name: \"小程序服务\",\n            icon: \"el-icon-mobile\",\n            path: \"index/more\",\n          },\n        ],\n      },\n    ];\n    let userState = store.state.userState;\n    if (userState == 1) {\n      menu_data;\n    }\n  }\n  next();\n});\n\nexport default router;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}