{"ast":null,"code":"import Vue from \"vue\";\nimport Vuex from \"vuex\";\nVue.use(Vuex); // 定义会话状态\n\nvar state = {\n  isLogin: \"0\",\n  // user\n  userinfo: '' || JSON.parse(getUser()),\n  // token\n  token: localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : \"\",\n  // token\n  // 菜单导航\n  menu_data: [],\n  //  加载动态路由标志\n  isLoadRoute: false,\n  userState: 1\n}; // 定义行为方法\n\nvar mutations = {\n  //  设置菜单导航\n  setMeunData: function setMeunData(state, data) {\n    state.menu_data = data;\n  },\n  //   设置加载路由标志\n  setLoadRoute: function setLoadRoute(state, data) {\n    state.isLoadRoute = data;\n  },\n  setToken: function setToken(state, value) {\n    // 设置存储token\n    state.token = value;\n    localStorage.setItem(\"token\", value);\n    localStorage.setItem(\"isLogin\", 1);\n  },\n  removeStorage: function removeStorage(state, value) {\n    // 删除token\n    localStorage.removeItem(\"token\");\n  }\n}; // 定义获取加工方法\n\nvar getters = {\n  // 监听数据变化的\n  getStorage: function getStorage(state) {\n    // 获取本地存储的登录信息\n    if (!state.token) {\n      state.token = JSON.parse(localStorage.getItem(key));\n    }\n\n    return state.token;\n  }\n};\nexport default new Vuex.Store({\n  state: state,\n  mutations: mutations,\n  getters: getters\n});","map":{"version":3,"names":["Vue","Vuex","use","state","isLogin","userinfo","JSON","parse","getUser","token","localStorage","getItem","menu_data","isLoadRoute","userState","mutations","setMeunData","data","setLoadRoute","setToken","value","setItem","removeStorage","removeItem","getters","getStorage","key","Store"],"sources":["D:/Work/Project/LMS/lms/src/store/store.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\n\r\nVue.use(Vuex);\r\n\r\n// 定义会话状态\r\nconst state = {\r\n  isLogin: \"0\",\r\n  // user\r\n  userinfo:'' || JSON.parse(getUser()),\r\n  // token\r\n  token: localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : \"\", // token\r\n  // 菜单导航\r\n  menu_data: [],\r\n  //  加载动态路由标志\r\n  isLoadRoute: false,\r\n  userState: 1,\r\n};\r\n\r\n// 定义行为方法\r\nconst mutations = {\r\n  //  设置菜单导航\r\n  setMeunData(state, data) {\r\n    state.menu_data = data;\r\n  },\r\n  //   设置加载路由标志\r\n  setLoadRoute(state, data) {\r\n    state.isLoadRoute = data;\r\n  },\r\n  setToken(state, value) {\r\n    // 设置存储token\r\n    state.token = value;\r\n    localStorage.setItem(\"token\", value);\r\n    localStorage.setItem(\"isLogin\", 1);\r\n  },\r\n  removeStorage(state, value) {\r\n    // 删除token\r\n    localStorage.removeItem(\"token\");\r\n  },\r\n};\r\n\r\n// 定义获取加工方法\r\nconst getters = {\r\n  // 监听数据变化的\r\n  getStorage(state) {\r\n    // 获取本地存储的登录信息\r\n    if (!state.token) {\r\n      state.token = JSON.parse(localStorage.getItem(key));\r\n    }\r\n    return state.token;\r\n  },\r\n};\r\n\r\nexport default new Vuex.Store({\r\n  state,\r\n  mutations,\r\n  getters,\r\n});\r\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,IAAR,E,CAEA;;AACA,IAAME,KAAK,GAAG;EACZC,OAAO,EAAE,GADG;EAEZ;EACAC,QAAQ,EAAC,MAAMC,IAAI,CAACC,KAAL,CAAWC,OAAO,EAAlB,CAHH;EAIZ;EACAC,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgCD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhC,GAAgE,EAL3D;EAK+D;EAC3E;EACAC,SAAS,EAAE,EAPC;EAQZ;EACAC,WAAW,EAAE,KATD;EAUZC,SAAS,EAAE;AAVC,CAAd,C,CAaA;;AACA,IAAMC,SAAS,GAAG;EAChB;EACAC,WAFgB,uBAEJb,KAFI,EAEGc,IAFH,EAES;IACvBd,KAAK,CAACS,SAAN,GAAkBK,IAAlB;EACD,CAJe;EAKhB;EACAC,YANgB,wBAMHf,KANG,EAMIc,IANJ,EAMU;IACxBd,KAAK,CAACU,WAAN,GAAoBI,IAApB;EACD,CARe;EAShBE,QATgB,oBASPhB,KATO,EASAiB,KATA,EASO;IACrB;IACAjB,KAAK,CAACM,KAAN,GAAcW,KAAd;IACAV,YAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BD,KAA9B;IACAV,YAAY,CAACW,OAAb,CAAqB,SAArB,EAAgC,CAAhC;EACD,CAde;EAehBC,aAfgB,yBAeFnB,KAfE,EAeKiB,KAfL,EAeY;IAC1B;IACAV,YAAY,CAACa,UAAb,CAAwB,OAAxB;EACD;AAlBe,CAAlB,C,CAqBA;;AACA,IAAMC,OAAO,GAAG;EACd;EACAC,UAFc,sBAEHtB,KAFG,EAEI;IAChB;IACA,IAAI,CAACA,KAAK,CAACM,KAAX,EAAkB;MAChBN,KAAK,CAACM,KAAN,GAAcH,IAAI,CAACC,KAAL,CAAWG,YAAY,CAACC,OAAb,CAAqBe,GAArB,CAAX,CAAd;IACD;;IACD,OAAOvB,KAAK,CAACM,KAAb;EACD;AARa,CAAhB;AAWA,eAAe,IAAIR,IAAI,CAAC0B,KAAT,CAAe;EAC5BxB,KAAK,EAALA,KAD4B;EAE5BY,SAAS,EAATA,SAF4B;EAG5BS,OAAO,EAAPA;AAH4B,CAAf,CAAf"},"metadata":{},"sourceType":"module"}